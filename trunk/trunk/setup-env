export OMTOOL_DIR="/usr/local/openmoko"
(echo "$PATH" | grep -q "${OMTOOL_DIR}") || export PATH="${OMTOOL_DIR}/arm/bin:${PATH}"
export STRIP="arm-angstrom-linux-gnueabi-strip"
export LD="arm-angstrom-linux-gnueabi-ld"
export CC="arm-angstrom-linux-gnueabi-gcc -march=armv4t -mtune=arm920t"
export CPPFLAGS="-isystem${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/include -L${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/usr/include -L${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/usr/include/c++/4.1.2 -isystem${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/usr/include -isystem${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/usr/include/c++/4.1.2 -L${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/usr/include/c++/4.1.2/arm-angstrom-linux-gnueabi -isystem${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/usr/include/c++/4.1.2/arm-angstrom-linux-gnueabi/"
export RANLIB="arm-angstrom-linux-gnueabi-ranlib"
export CXX="ccache arm-angstrom-linux-gnueabi-g++ -march=armv4t -mtune=arm920t"
export OBJCOPY="arm-angstrom-linux-gnueabi-objcopy"
export PKG_CONFIG_PATH="${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/usr/lib/pkgconfig"
export PKG_CONFIG_SYSROOT_DIR="${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi"
export LDFLAGS="-L${OMTOOL_DIR}/arm/lib -L${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/lib -Wl,-rpath-link,${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/lib -Wl,-O1"
export CCLD="arm-angstrom-linux-gnueabi-gcc -march=armv4t -mtune=arm920t"
export MAKE="make"
export CFLAGS="-isystem${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/include -I${OMTOOL_DIR}/arm/include -isystem${OMTOOL_DIR}/arm/include -fexpensive-optimizations -fomit-frame-pointer -frename-registers -Os -DAUDIO_PULSEAUDIO"
export CXXFLAGS="-isystem${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/include -fexpensive-optimizations -fomit-frame-pointer -frename-registers -Os -fpermissive -fvisibility-inlines-hidden"
export F77="ccache arm-angstrom-linux-gnueabi-g77 -march=armv4t -mtune=arm920t"
export AS="arm-angstrom-linux-gnueabi-as"
export AR="arm-angstrom-linux-gnueabi-ar"
export CPP="arm-angstrom-linux-gnueabi-gcc -E"
export OBJDUMP="arm-angstrom-linux-gnueabi-objdump"
# Added by Bkruse
export OMDIR=/usr/src/openmoko
export BBPATH=$OMDIR/build:$OMDIR/openmoko/trunk/oe:$OMDIR/openembedded
export PORTAUDIO_LIBS="-L/usr/local/openmoko/arm/lib -lportaudio"
export PORTAUDIO_CFLAGS="-I/usr/local/openmoko/arm/include"
export SPEEX_LIBS="-L/usr/local/openmoko/arm/lib -lspeex -lspeexdsp"
export SPEEX_CFLAGS="-I/usr/local/openmoko/arm/include"
export SPEEXDSP_LIBS="-L/usr/local/openmoko/arm/lib -lspeex -lspeexdsp"
export SPEEXDSP_CFLAGS="-I/usr/local/openmoko/arm/include"
export OGG_LIBS="-L/usr/local/openmoko/arm/lib -logg"
export OGG_CFLAGS="-I/usr/local/openmoko/arm/include"
export ALSA_LIBS="-L/usr/local/openmoko/arm/lib -lalsa -lasound"
export ALSA_CFLAGS="-I/usr/local/openmoko/arm/include"
export LIBSNDFILE_CFLAGS="-I/usr/local/openmoko/arm/include"
export LIBSNDFILE_LIBS="-L/usr/local/openmoko/arm/lib -lsndfile"
export LIBOIL_CFLAGS="-I/usr/local/openmoko/arm/include"
export LIBOIL_LIBS="-L/usr/local/openmoko/arm/lib -loil"
export LIBSAMPLERATE_CFLAGS="-I/usr/local/openmoko/arm/include"
export LIBSAMPLERATE_LIBS="-L/usr/local/openmoko/arm/lib -lsamplerate"
export GLIB20_CFLAGS="-I/usr/local/openmoko/arm/include"
export GLIB20_LIBS="-L/usr/local/openmoko/arm/lib"

# End
export CONFIG_SITE="${OMTOOL_DIR}/arm/site-config"
alias opkg='LD_LIBRARY_PATH=${OMTOOL_DIR}/arm/lib ${OMTOOL_DIR}/arm/bin/opkg-cl -f ${OMTOOL_DIR}/arm/etc/opkg-sdk.conf -o ${OMTOOL_DIR}/arm'
alias opkg-target='LD_LIBRARY_PATH=${OMTOOL_DIR}/arm/lib ${OMTOOL_DIR}/arm/bin/opkg-cl -f ${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi/etc/opkg.conf -o ${OMTOOL_DIR}/arm/arm-angstrom-linux-gnueabi'
echo -en "\n\nOM Setup and Env Complete\n"
